{% extends 'chair/base/preview_page.html' %}

{% load bootstrap4 %}

{% block content %}
  <h1 class="dccn-panel-title">{{ panel_title }}</h1>
  <form action="" method="POST" class="mt-4">
    {% csrf_token %}

    <div class="card-columns">
      {% for field in form %}
        <div class="form-group card">
          <div class="card-body">
            <div class="dccn-text-0">Select {{ field.label }}
              (<button type="button" class="btn btn-link dccn-link dccn-text-small clear-cb-btn">clear</button>,
              <button type="button" class="btn btn-link dccn-link dccn-text-small select-all-cb-btn">select all</button>):
            </div>
            {{ field }}
          </div>
        </div>
      {% endfor %}
    </div>
    <div class="d-flex mt-4">
      <button type="submit" class="btn btn-primary"><i class="fas fa-download"></i> Export</button>
      <a class="btn btn-outline-secondary ml-auto" href="{{ next }}"><i class="fas fa-times"></i> Close</a>
    </div>
  </form>
{% endblock %}


{% block script %}
<script>
$('.clear-cb-btn').on('click', function () {
  const parent = $(this).parent().parent();
  parent.find('.form-check input').prop('checked', false);
});

$('.select-all-cb-btn').on('click', function () {
  const parent = $(this).parent().parent();
  parent.find('.form-check input').prop('checked', true);
});
</script>
{% endblock %}